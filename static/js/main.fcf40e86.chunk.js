(this["webpackJsonpamber-recruitment"]=this["webpackJsonpamber-recruitment"]||[]).push([[0],{54:function(e,t,a){e.exports=a(96)},81:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(20),s=a.n(l),i=a(10),o=a(11),c=a(13),u=a(12),m=a(7),d=function(){return r.a.createElement("h1",{className:"text-center"},"Home section")},g=function(){return r.a.createElement(d,null)},E=a(4),p=(a(81),a(30)),h=a.n(p),f=h.a.initializeApp({apiKey:"AIzaSyBQC4y3n_ooduNrzEZepf5-mAG61GMhT6o",authDomain:"amber-recruitment.firebaseapp.com",databaseURL:"https://amber-recruitment.firebaseio.com",projectId:"amber-recruitment",storageBucket:"amber-recruitment.appspot.com",messagingSenderId:"1095496441215",appId:"1:1095496441215:web:87b231efee596734474e4a"});var k=function(e,t){document.getElementById("success-login").innerHTML='<div class="alert alert-success alert-dismissible" style="position: absolute; top: 100px; right: 20px;">\n                  <a href="#" class="close" data-dismiss="alert"  aria-label="close">&times;</a>\n                 '.concat(e," ").concat(t,"</div>");var a=document.querySelector(".alert");setTimeout((function(){a.style.display="none"}),2e3),a.addEventListener("click",(function(){a.style.display="none"}))},b=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleTaskTitle=function(t){e.setState({taskTitle:t.target.value})},e.handleTaskSubTitle=function(t){e.setState({taskSubTitle:t.target.value})},e.handleTaskEstimate=function(t){e.setState({taskEstimate:t.target.value})},e.handleTaskDescription=function(t){e.setState({taskDescription:t.target.value})},e.handleSubmitJob=function(t){t.preventDefault();var a=document.getElementById("create-task-required-fields"),n=e.state,r=n.taskTitle,l=n.taskSubTitle,s=n.taskEstimate,i=n.taskDescription;""!==r&&""!==l&&s&&""!==i?f.firestore().collection("jobs").add({taskTitle:r,taskSubTitle:l,taskEstimate:s,taskDescription:i}).then((function(e){k("Task added: ",r,l,s,i)})).catch((function(e){console.log(e.message)})):(a.style.color="red",a.textContent="All Fields Required"),e.setState({taskTitle:""})},e.onResetFunc=function(){e.setState({taskTitle:"",taskSubTitle:"",taskEstimate:"",taskDescription:""})},e.enterPressed=function(t){"Enter"===t.key&&e.handleSubmitJob(t)},e.state={taskTitle:"",taskSubTitle:"",taskEstimate:"",taskDescription:""},e}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){console.log("Job Umounting")}},{key:"render",value:function(){return r.a.createElement(E.g,{lg:"6",id:"create-job"},r.a.createElement("form",{onSubmit:this.handleSubmitJob},r.a.createElement("p",{className:"h5 text-center mb-4"},"Create a task"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(E.k,{onChange:this.handleTaskTitle,label:"Type a task title",group:!0,type:"text",id:"task-title",validate:!0,error:"wrong",success:"right"}),r.a.createElement(E.k,{onChange:this.handleTaskSubTitle,label:"Type a task subtitle",group:!0,type:"text",id:"task-subtitle",validate:!0,error:"wrong"}),r.a.createElement(E.k,{onChange:this.handleTaskEstimate,label:"Estimate",group:!0,type:"text",id:"task-estimate",validate:!0,error:"wrong"}),r.a.createElement(E.k,{onChange:this.handleTaskDescription,label:"Task details",group:!0,id:"task-description",type:"textarea",rows:"5",onKeyPress:this.enterPressed}),r.a.createElement("p",{id:"create-task-required-fields"})),r.a.createElement("div",{className:"text-center"},r.a.createElement(E.b,{type:"submit"},"Create"))))}}]),a}(n.Component),v=a(53);function y(e){var t=e.pushedData;return console.log(t),r.a.createElement(E.g,{lg:"6",id:"edit-job",style:{margin:"auto",marginTop:"40px"}},r.a.createElement("form",null,r.a.createElement("p",{className:"h5 text-center mb-4"},"Edit task"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(E.k,{label:"Type a task title",group:!0,type:"text",id:"task-title-edit",validate:!0,error:"wrong",success:"right"}),r.a.createElement(E.k,{label:"Type a task subtitle",group:!0,type:"text",id:"task-subtitle-edit",validate:!0,error:"wrong"}),r.a.createElement(E.k,{label:"Estimate",group:!0,type:"text",id:"task-estimate-task",validate:!0,error:"wrong"}),r.a.createElement(E.k,{label:"Task details",group:!0,id:"task-description-edit",type:"textarea",rows:"5"}),r.a.createElement("p",{id:"create-task-required-fields"})),r.a.createElement("div",{className:"text-center"},r.a.createElement(E.o,{to:"tasks"},r.a.createElement(E.b,null,"Cancel")),r.a.createElement(E.b,null,"Edit"))))}var w=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),n=a.taskTitle,r=a.taskSubTitle,l=a.taskEstimate,s=a.taskDescription;t.push({key:e.id,doc:e,taskTitle:n,taskSubTitle:r,taskEstimate:l,taskDescription:s,checked:!0})})),n.setState({currentJobList:t})},n.authListener=function(){f.auth().onAuthStateChanged((function(e){e?n.setState({user:e}):n.setState({user:null})}))},n.onDelete=function(e){f.firestore().collection("jobs").doc(e).delete().then((function(){console.log("Document successfully added!"),k("Successfully deleted","")})).catch((function(e){console.log("Error removing ",e.message)}))},n.findOutMore=function(e){var t=n.state.clickedJob;t=e,n.setState({clickedJob:t}),console.log(t);var a=n.state.pushedData;a.push(e),console.log(a)},n.toggle=function(){n.setState({showEditModal:!n.state.showEditModal})},n.handleChange=function(e){console.log(e.target.value),n.setState({checked:!n.state.checked}),console.log(!n.state.checked)},n.ref=f.firestore().collection("jobs"),n.unsubscribe=null,n.state={currentJobList:[],user:{},clickedJob:"",pushedData:[],showEditModal:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate),this.authListener()}},{key:"componentWillMount",value:function(){this.authListener()}},{key:"render",value:function(){var e=this;return r.a.createElement(E.v,{className:"d-flex justify-content-center"},r.a.createElement(E.g,{lg:"6",md:"8",sm:"10"},this.state.currentJobList.map((function(t){return r.a.createElement(E.c,{key:t.key,style:{margin:"20px"},id:t.doc.id},r.a.createElement(E.d,null,r.a.createElement(E.f,null,r.a.createElement("i",{className:"fas fa-tasks"})," ",t.taskTitle),r.a.createElement(E.e,null,r.a.createElement("i",{className:"fas fa-book-reader"})," ",r.a.createElement("b",null,t.taskSubTitle)),r.a.createElement(E.e,null,r.a.createElement("i",{className:"fas fa-hourglass"})," ",r.a.createElement("b",null,t.taskEstimate)),r.a.createElement(E.e,null,r.a.createElement("i",{className:"fas fa-info-circle"})," ",t.taskDescription),e.state.user?r.a.createElement("div",null,r.a.createElement(E.i,{id:"modal-edit"},r.a.createElement(E.v,null,r.a.createElement(E.b,Object(v.a)({color:"info",onClick:function(){return e.findOutMore(t)}},"onClick",e.toggle),"Edit"),r.a.createElement(E.b,{color:"green",onClick:function(){return e.onDelete(t.doc.id)}},"Complete"),r.a.createElement(E.l,{isOpen:e.state.showEditModal,toggle:e.toggle},r.a.createElement("br",null),r.a.createElement(E.m,{toggle:e.toggle},"Edit task"),r.a.createElement(E.g,{lg:"12",id:"edit-task"},r.a.createElement("form",null,r.a.createElement("div",{className:"grey-text"},r.a.createElement(E.k,{label:"Type a task title",group:!0,type:"text",value:t.taskTitle,id:"task-title",validate:!0,error:"wrong",success:"right"}),r.a.createElement(E.k,{label:"Type a task subtitle",group:!0,type:"text",value:t.taskSubTitle,id:"task-subtitle",validate:!0,error:"wrong"}),r.a.createElement(E.k,{label:"Estimate",group:!0,type:"text",value:t.taskEstimate,id:"task-estimate",validate:!0,error:"wrong"}),r.a.createElement(E.k,{label:"Task details",group:!0,id:"task-description",value:t.taskDescription,type:"textarea",rows:"5"}),r.a.createElement("p",{id:"create-task-required-fields"})),r.a.createElement("div",{className:"text-center"},r.a.createElement(E.b,null,"Edit")))))))):null))}))))}}]),a}(n.Component),S=function(){return r.a.createElement("h1",{className:"text-center"},"Oooops! Page is not Found 404")},T=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:g}),r.a.createElement(m.a,{path:"/tasks/",component:w}),r.a.createElement(m.a,{path:"/edit/",component:y}),r.a.createElement(m.a,{path:"/create-a-task/",component:b}),r.a.createElement(m.a,{component:S})))}}]),a}(n.Component),C=(a(92),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).logout=function(){f.auth().signOut().then((function(){k("Successful logout","")})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(E.i,{id:"modal-singOut"},r.a.createElement(E.v,null,r.a.createElement(E.b,{onClick:this.logout},"Sign out")))}}]),a}(n.Component)),x=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){(new D).authListener()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.r,{className:"ml-auto"},r.a.createElement(E.n,null,r.a.createElement(E.o,{to:"/tasks"},"Task list")),r.a.createElement(E.n,null,r.a.createElement(E.o,{to:"/create-a-task"},"Create a task"))),r.a.createElement(E.r,{right:!0},r.a.createElement(E.n,{className:"user-info",style:{color:"white",lineHeight:"3.5"}}),r.a.createElement(E.n,null,r.a.createElement(C,null))))}}]),a}(n.Component),O=(a(93),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({modal:!n.state.modal})},n.handleUserEmail=function(e){n.setState({userEmail:e.target.value})},n.handleUserPassword=function(e){n.setState({userPassword:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.userEmail,r=t.userPassword;if(""===a||""===r){var l=document.getElementById("error-login");return l.style.color="red",l.style.textAlign="center",void(l.textContent="All values are required")}var s=document.getElementById("wrong-login-password");f.auth().signInWithEmailAndPassword(a,r).then((function(e){console.log(e),k("Successful login, ",a)})).catch((function(e){s.style.color="red",s.textContent=e.message}))},n.enterPressed=function(e){"Enter"===e.key&&n.handleSubmit(e)},n.state={modal:!1,userEmail:"",userPassword:""},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(E.i,{id:"modal-login"},r.a.createElement(E.v,null,r.a.createElement(E.b,{onClick:this.toggle},"Sign in"),r.a.createElement(E.l,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement("br",null),r.a.createElement(E.m,{toggle:this.toggle},"Sign in"),r.a.createElement(E.g,null,r.a.createElement("form",null,r.a.createElement("div",{className:"text-left"},r.a.createElement(E.k,{onChange:this.handleUserEmail,label:"Type your email",id:"signInUser",icon:"envelope",group:!0,type:"email",validate:!0,error:"wrong",success:"right"}),r.a.createElement(E.k,{onChange:this.handleUserPassword,label:"Type your password",id:"signInPassword",icon:"lock",group:!0,type:"password",onKeyPress:this.enterPressed,validate:!0}),r.a.createElement("p",{id:"error-login"}),r.a.createElement("p",{id:"wrong-login-password"})),r.a.createElement("div",{className:"text-center"},r.a.createElement(E.b,{onClick:this.handleSubmit},"Login")))))))}}]),a}(n.Component)),j=(a(94),h.a.functions()),P=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,registerUserEmail:"",registerPassword:"",confirmPassword:""},e.toggle=function(){e.setState({modal:!e.state.modal})},e.handleRegisterUserEmail=function(t){e.setState({registerUserEmail:t.target.value})},e.handleRegisterUserPassword=function(t){e.setState({registerPassword:t.target.value})},e.handleConfirmRegisterPassword=function(t){e.setState({confirmPassword:t.target.value})},e.handleSubmitRegister=function(t){t.preventDefault();var a=e.state,n=a.registerUserEmail,r=a.registerPassword,l=a.confirmPassword;if(""===n||""===r||""===l){var s=document.getElementById("error-register");return s.style.color="red",s.style.textAlign="center",void(s.textContent="All values are required")}if(r!==l){var i=document.getElementById("wrong-passwords");return i.style.color="red",i.style.textAlign="center",void(i.textContent="Passwords not match")}f.auth().createUserWithEmailAndPassword(n,r).then((function(e){console.log(e),k("Successful sign up, ",n)})).catch((function(e){console.log(e);var t=document.getElementById("passwords-length");t.style.color="red",t.style.textAlign="center",t.textContent=e}))},e.enterPressed=function(t){"Enter"===t.key&&e.handleSubmitRegister(t)},e.onMakeAdmin=function(){var t=e.state.registerUserEmail;j.httpsCallable("addAdminRole")({email:t}).then((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(E.i,{id:"modal-register"},r.a.createElement(E.v,null,r.a.createElement(E.b,{onClick:this.toggle},"Register"),r.a.createElement(E.l,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement("br",null),r.a.createElement(E.m,{toggle:this.toggle},"Register"),r.a.createElement(E.g,null,r.a.createElement("form",null,r.a.createElement("div",{className:"text-left"},r.a.createElement(E.k,{onChange:this.handleRegisterUserEmail,label:"Type your email",id:"registerUser",icon:"envelope",group:!0,type:"email",validate:!0,error:"wrong",success:"right",required:!0}),r.a.createElement(E.k,{onChange:this.handleRegisterUserPassword,label:"Type your password",id:"registerPassword",icon:"lock",group:!0,type:"password",validate:!0,required:!0}),r.a.createElement(E.k,{onChange:this.handleConfirmRegisterPassword,label:"Confirm password",id:"confirmPassword",icon:"lock",group:!0,type:"password",onKeyPress:this.enterPressed,validate:!0,required:!0}),r.a.createElement("p",{id:"error-register"}),r.a.createElement("p",{id:"wrong-passwords"}),r.a.createElement("p",{id:"passwords-length"}),r.a.createElement("p",null,"Password should be at least 6 characters")),r.a.createElement("div",{className:"text-center"},r.a.createElement(E.b,{onClick:this.onMakeAdmin},"Make Admin"),r.a.createElement(E.b,{onClick:this.handleSubmitRegister},"Register")))))))}}]),a}(n.Component),N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.r,{className:"ml-auto"},r.a.createElement(E.n,null,r.a.createElement(E.o,{to:"/"},"Home")),r.a.createElement(E.n,null,r.a.createElement(E.o,{to:"/tasks"},"Task list"))),r.a.createElement(E.r,{right:!0},r.a.createElement(O,null),r.a.createElement(P,null)))},D=(a(95),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1,user:{}},e.toggleCollapse=function(){e.setState({isOpen:!e.state.isOpen})},e.authListener=function(){var t=document.querySelector(".user-info");f.auth().onAuthStateChanged((function(a){if(a){e.setState({user:a});var n="Welcome, ".concat(a.email);t.innerHTML=n}else e.setState({user:null})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"render",value:function(){return r.a.createElement(E.p,{color:"indigo",dark:!0,expand:"md",className:"bg-transparent"},r.a.createElement(E.q,null,r.a.createElement(E.o,{to:"/"},r.a.createElement("strong",{className:"white-text text-center"},"Amber",r.a.createElement("br",null)," Recruitment"))),r.a.createElement(E.s,{onClick:this.toggleCollapse}),r.a.createElement(E.h,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},this.state.user?r.a.createElement(x,null):r.a.createElement(N,null)))}}]),a}(n.Component)),A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,null),r.a.createElement(T,null))},U=a(24);s.a.render(r.a.createElement(U.a,{basename:"/amber-recruitment"},r.a.createElement(A,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.fcf40e86.chunk.js.map